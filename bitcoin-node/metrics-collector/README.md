# Bitcoin Node Metrics Collector

A custom Prometheus metrics collector for Bitcoin Core nodes. This tool collects metrics directly from the Bitcoin Core RPC interface and exposes them in Prometheus format.

## Features
- Collects key Bitcoin Core metrics
- Exposes metrics in Prometheus format
- Lightweight and easy to maintain
- Direct RPC integration
- Secure cookie-based authentication by default

## Requirements
- Python 3.8+
- Bitcoin Core v28.1+
- Access to Bitcoin Core RPC interface

## Installation
1. Clone this repository
2. Install dependencies: `pip install -r requirements.txt`
3. Configure the collector
4. Run the collector

## Configuration
The collector uses the following environment variables:
- `BITCOIN_RPC_HOST`: Bitcoin Core RPC host (default: 127.0.0.1)
- `BITCOIN_RPC_PORT`: Bitcoin Core RPC port (default: 8332)
- `BITCOIN_COOKIE_PATH`: Path to the Bitcoin Core cookie file (default: ~/.bitcoin/.cookie)
- `METRICS_PORT`: Port to expose metrics on (default: 9332)

### Authentication Methods
1. **Cookie Authentication (Default)**
   - Uses Bitcoin Core's built-in cookie authentication
   - More secure as it doesn't require storing passwords
   - Cookie file is automatically generated by Bitcoin Core

2. **Username/Password Authentication (Optional)**
   - Set `BITCOIN_RPC_USER` and `BITCOIN_RPC_PASSWORD` environment variables
   - Only used if cookie authentication fails

## Usage
Run the collector:
```bash
python src/collector.py
```

## Metrics
The collector exposes the following metrics:
- Blockchain metrics (blocks, difficulty, verification progress)
- Network metrics (connections, network version)
- Memory usage
- Mempool statistics 